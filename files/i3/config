
font pango:monospace 12

new_window pixel 1
new_float normal 1
hide_edge_borders both

set $mod Mod4
floating_modifier $mod

bindsym $mod+Return exec i3-sensible-terminal

bindsym $mod+Shift+q kill
# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split
bindsym $mod+s layout stacking

# split in horizontal orientation
bindsym $mod+g split h
# split in vertical orientation
bindsym $mod+v split v

bindsym $mod+t sticky toggle

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

bindsym $mod+b border toggle

# focus the parent container
bindsym $mod+a focus parent
# focus the child container
bindsym $mod+z focus child
# Jump to urgent window
bindsym $mod+x [urgent=latest] focus

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle
# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right
bindsym $mod+c       move absolute position center

# workspace names
set $ws0 üõ™

# switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace $ws0

workspace_auto_back_and_forth yes

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace $ws0

# scratchpad
bindsym $mod+equal move scratchpad
bindsym $mod+minus scratchpad show

bindsym $mod+d     exec --no-startup-id rofi -show run
bindsym $mod+q     exec --no-startup-id SHELL=/bin/sh j4-dmenu-desktop --dmenu="rofi -dmenu -i -p '' "
bindsym $mod+Tab   exec --no-startup-id rofi -show window
bindsym $mod+grave exec --no-startup-id rofi -switchers "file:$HOME/.bin/rofi-file-browser" -show file
bindsym $mod+F1    exec --no-startup-id clerk
bindsym $mod+F2    exec --no-startup-id rofi-surfraw
bindsym $mod+F3    exec --no-startup-id rofi-pass

# Audio controls
set $send_signal pkill -SIGRTMIN+10 i3blocks
bindsym XF86AudioRaiseVolume  exec --no-startup-id pactl set-sink-volume 0 +5%  && $send_signal
bindsym XF86AudioLowerVolume  exec --no-startup-id pactl set-sink-volume 0 -5%  && $send_signal
bindsym XF86AudioMute         exec --no-startup-id pactl set-sink-mute 0 toggle && $send_signal
bindsym $mod+Up               exec --no-startup-id pactl set-sink-volume 0 +5%  && $send_signal
bindsym $mod+Down             exec --no-startup-id pactl set-sink-volume 0 -5%  && $send_signal
bindsym $mod+m                exec --no-startup-id pactl set-sink-mute 0 toggle && $send_signal

# Media player controls
bindsym XF86AudioPlay         exec --no-startup-id mpc toggle && $send_signal
bindsym XF86AudioPause        exec --no-startup-id mpc pause  && $send_signal
bindsym XF86AudioToggle       exec --no-startup-id mpc toggle && $send_signal
bindsym XF86AudioStop         exec --no-startup-id mpc stop   && $send_signal
bindsym XF86AudioNext         exec --no-startup-id mpc next   && $send_signal
bindsym XF86AudioPrev         exec --no-startup-id mpc pre    && $send_signal
bindsym $mod+backslash        exec --no-startup-id mpc toggle && $send_signal
bindsym $mod+Shift+backslash  exec --no-startup-id mpc stop   && $send_signal
bindsym $mod+braceright       exec --no-startup-id mpc next   && $send_signal
bindsym $mod+braceleft        exec --no-startup-id mpc pre    && $send_signal

# Screen brightness controls
bindsym XF86MonBrightnessDown exec --no-startup-id xbacklight -dec 10
bindsym XF86MonBrightnessUp   exec --no-startup-id xbacklight -inc 10
bindsym $mod+Left             exec --no-startup-id xbacklight -dec 10
bindsym $mod+Right            exec --no-startup-id xbacklight -inc 10

# Screenshot
set $tmp_png        '/tmp/scrot.png'
set $formated_png   '/tmp/%Y-%m-%d_%H%M%S_$wx$h.png'
set $to_screenshots 'mv $f ~/Pictures/Screenshots/'
bindsym --release            Print exec --no-startup-id scrot $tmp_png
bindsym --release       Ctrl+Print exec --no-startup-id scrot $tmp_png -s
bindsym --release       Mod1+Print exec --no-startup-id scrot $tmp_png -s -d 5
bindsym --release      Shift+Print exec --no-startup-id scrot $formated_png         -e $to_screenshots
bindsym --release Ctrl+Shift+Print exec --no-startup-id scrot $formated_png      -s -e $to_screenshots
bindsym --release Mod1+Shift+Print exec --no-startup-id scrot $formated_png -d 5 -s -e $to_screenshots

bindsym --release     $mod+Shift+a exec --no-startup-id deepin-screenshot

# Mode: shutdown, reboot, lock screen
set $Locker i3lock -d -e -c 000000 && sleep 1
set $mode_system System (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (p) Poweroff
mode "$mode_system" {
    bindsym l exec --no-startup-id $Locker,                        mode "default"
    bindsym e exec --no-startup-id i3-msg exit,                    mode "default"
    bindsym s exec --no-startup-id $Locker && systemctl suspend,   mode "default"
    bindsym h exec --no-startup-id $Locker && systemctl hibernate, mode "default"
    bindsym r exec --no-startup-id systemctl reboot,               mode "default"
    bindsym p exec --no-startup-id systemctl poweroff -i,          mode "default"
    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Shift+e mode "$mode_system"
bindsym $mod+semicolon exec --no-startup-id $Locker

# Mode: resize window (you can also use the mouse for that)
mode "resize" {
    # These bindings trigger as soon as you enter the resize mode
    bindsym h       resize shrink width  10 px or 10 ppt
    bindsym j       resize grow   height 10 px or 10 ppt
    bindsym k       resize shrink height 10 px or 10 ppt
    bindsym l       resize grow   width  10 px or 10 ppt
    bindsym Ctrl+h  resize shrink width  30 px or 30 ppt
    bindsym Ctrl+j  resize grow   height 30 px or 30 ppt
    bindsym Ctrl+k  resize shrink height 30 px or 30 ppt
    bindsym Ctrl+l  resize grow   width  30 px or 30 ppt
    bindsym Shift+h resize shrink width   1 px or  1 ppt
    bindsym Shift+j resize grow   height  1 px or  1 ppt
    bindsym Shift+k resize shrink height  1 px or  1 ppt
    bindsym Shift+l resize grow   width   1 px or  1 ppt
    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

mode "escape" {
    bindsym $mod+Escape mode "default"
}
bindsym $mod+Escape mode "escape"

# Solarized
set $base03  #002b36
set $base02  #073642
set $base01  #586e75
set $base00  #657b83
set $base10  #839496
set $base11  #93a1a1
set $base12  #eee8d5
set $base13  #fdf6e3
set $yellow  #b58900
set $orange  #cb4b16
set $red     #dc322f
set $magenta #d33682
set $violet  #6c71c4
set $blue    #268bd2
set $cyan    #2aa198
set $green   #859900
set $custom  #1c5766

client.focused          $base02  $blue    $base12 $blue
client.focused_inactive $base02  $base02  $base12 $violet
client.unfocused        $base02  $base02  $base11 $base01
client.urgent           $magenta $magenta $base13 $red

bar {
    status_command i3blocks
    position       bottom
    height         25
    colors {
        separator  $base00
        background $base03
        statusline $base13
        focused_workspace  $base13  $blue    $base13
        active_workspace   $base13  $violet  $base13
        inactive_workspace $base03  $base03  $base11
        urgent_workspace   $magenta $magenta $base13
    }
}

for_window [window_role="pop-up"]               floating enable
for_window [window_role="bubble"]               floating enable
for_window [window_role="task_dialog"]          floating enable
for_window [class="Gitk"]                       floating enable
for_window [class="Git-gui"]                    floating enable
for_window [class="Toplevel"]                   floating enable
for_window [class="FeelUOwn"]                   floating enable
for_window [class="Stardict"]                   floating enable
for_window [class="Goldendict"]                 floating enable
for_window [class="Gnome-alsamixer"]            floating enable
for_window [class="Deepin-music-player"]        floating enable
for_window [title="Â§ö‰∏™È°µÈù¢Êó†ÂìçÂ∫î"]             floating enable
for_window [title="ÁΩëÁªúÊìç‰ΩúÁÆ°ÁêÜÂô®"]             floating enable
for_window [title="TerminatorÈ¶ñÈÄâÈ°π"]           floating enable
for_window [title="^chrome-extension:"]         floating enable
for_window [title="‰ªªÂä°ÁÆ°ÁêÜÂô® - Google Chrome"] floating enable

exec --no-startup-id ~/.i3/autostart.sh

exec --no-startup-id ~/.i3/disable-standby-fs.py
exec --no-startup-id ~/.i3/focus-last.py
bindsym Mod1+Tab exec --no-startup-id ~/.i3/focus-last.py --switch

# exec --no-startup-id ~/.i3/app-on-ws-init.py --workspace 1 --command "terminator -l i3"
exec --no-startup-id ~/.i3/app-on-ws-init.py --workspace 2 --command google-chrome-unstable
exec --no-startup-id ~/.i3/app-on-ws-init.py --workspace 8 --command "terminator -e 'TERM=xterm-256color ranger'"
exec --no-startup-id ~/.i3/app-on-ws-init.py --workspace 9 --command zeal
exec --no-startup-id ~/.i3/app-on-ws-init.py --workspace $ws0 --command telegram

exec --no-startup-id ~/.fehbg
exec --no-startup-id terminator -l i3

