
font pango:monospace 12

new_window pixel 1
new_float normal 1
hide_edge_borders both

set $mod Mod4
floating_modifier $mod

bindsym --release button2 kill

bindsym $mod+Shift+q kill
# bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart

bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split
bindsym $mod+s layout stacking

bindsym $mod+g split h
bindsym $mod+v split v

bindsym $mod+t sticky     toggle
bindsym $mod+f fullscreen toggle
bindsym $mod+b border     toggle

bindsym $mod+a focus parent
bindsym $mod+z focus child
bindsym $mod+x [urgent=latest] focus

bindsym $mod+space       focus mode_toggle
bindsym $mod+Shift+space floating toggle

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right
bindsym $mod+c       move absolute position center
bindsym $mod+Shift+c resize set 683 484, move absolute position center

# workspace names
set $ws0 üõ™

# switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace $ws0

workspace_auto_back_and_forth yes

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace $ws0

bindsym $mod+Return exec i3-sensible-terminal

# scratchpad
bindsym $mod+equal move scratchpad
bindsym $mod+minus scratchpad show

# Rofi
bindsym $mod+d       exec --no-startup-id rofi -show run
bindsym $mod+Tab     exec --no-startup-id rofi -show window -auto-select
bindsym $mod+q       exec --no-startup-id SHELL=/bin/sh j4-dmenu-desktop --dmenu="rofi -dmenu -i -p ''"
bindsym $mod+grave   exec --no-startup-id ~/.bin/rofi-fileman
bindsym $mod+u       exec --no-startup-id ~/.bin/rofi-unicode
bindsym $mod+p       exec --no-startup-id ~/.bin/rofi-monitor-layout
bindsym $mod+Shift+p exec --no-startup-id ~/.bin/rofi-xrandr
bindsym $mod+F1      exec --no-startup-id clerk
bindsym $mod+F2      exec --no-startup-id rofi-surfraw
bindsym $mod+F3      exec --no-startup-id rofi-pass

bindsym --release Caps_Lock exec pkill -SIGRTMIN+11 i3blocks
bindsym --release Num_Lock  exec pkill -SIGRTMIN+11 i3blocks

# Audio controls
set $send_signal pkill -SIGRTMIN+10 i3blocks
bindsym XF86AudioRaiseVolume  exec --no-startup-id pactl set-sink-volume 0 +5%  && $send_signal
bindsym XF86AudioLowerVolume  exec --no-startup-id pactl set-sink-volume 0 -5%  && $send_signal
bindsym XF86AudioMute         exec --no-startup-id pactl set-sink-mute 0 toggle && $send_signal
bindsym $mod+Up               exec --no-startup-id pactl set-sink-volume 0 +5%  && $send_signal
bindsym $mod+Down             exec --no-startup-id pactl set-sink-volume 0 -5%  && $send_signal
bindsym $mod+m                exec --no-startup-id pactl set-sink-mute 0 toggle && $send_signal

# Media player controls
bindsym XF86AudioPlay         exec --no-startup-id mpc toggle && $send_signal
bindsym XF86AudioPause        exec --no-startup-id mpc pause  && $send_signal
bindsym XF86AudioToggle       exec --no-startup-id mpc toggle && $send_signal
bindsym XF86AudioStop         exec --no-startup-id mpc stop   && $send_signal
bindsym XF86AudioNext         exec --no-startup-id mpc next   && $send_signal
bindsym XF86AudioPrev         exec --no-startup-id mpc pre    && $send_signal
bindsym $mod+backslash        exec --no-startup-id mpc toggle && $send_signal
bindsym $mod+Shift+backslash  exec --no-startup-id mpc stop   && $send_signal
bindsym $mod+braceright       exec --no-startup-id mpc next   && $send_signal
bindsym $mod+braceleft        exec --no-startup-id mpc pre    && $send_signal

# Screen brightness controls
bindsym XF86MonBrightnessDown exec --no-startup-id xbacklight -dec 10
bindsym XF86MonBrightnessUp   exec --no-startup-id xbacklight -inc 10
bindsym $mod+Left             exec --no-startup-id xbacklight -dec 10
bindsym $mod+Right            exec --no-startup-id xbacklight -inc 10

# Screenshot
set $tmp_png        '/tmp/scrot.png'
set $formated_png   '/tmp/%Y-%m-%d_%H%M%S_$wx$h.png'
set $to_screenshots 'mv $f ~/Pictures/Screenshots/'
bindsym --release            Print exec --no-startup-id scrot $tmp_png
bindsym --release       Ctrl+Print exec --no-startup-id scrot $tmp_png -s
bindsym --release       Mod1+Print exec --no-startup-id scrot $tmp_png -s -d 5
bindsym --release      Shift+Print exec --no-startup-id scrot $formated_png         -e $to_screenshots
bindsym --release Ctrl+Shift+Print exec --no-startup-id scrot $formated_png      -s -e $to_screenshots
bindsym --release Mod1+Shift+Print exec --no-startup-id scrot $formated_png -d 5 -s -e $to_screenshots

bindsym --release     $mod+Shift+a exec --no-startup-id deepin-screenshot

# System Mode: shutdown, reboot, lock screen
set $locker i3lock -d -e -c 000000 && sleep 1
set $mode_system System (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (p) Poweroff
mode "$mode_system" {
    bindsym l exec --no-startup-id $locker,                        mode "default"
    bindsym e exec --no-startup-id i3-msg exit,                    mode "default"
    bindsym s exec --no-startup-id $locker && systemctl suspend,   mode "default"
    bindsym h exec --no-startup-id $locker && systemctl hibernate, mode "default"
    bindsym r exec --no-startup-id systemctl reboot,               mode "default"
    bindsym p exec --no-startup-id systemctl poweroff -i,          mode "default"
    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Shift+e mode "$mode_system"
bindsym $mod+semicolon exec --no-startup-id $Locker

# Resize Mode: resize float window
mode "resize" {
    bindsym h       resize shrink width  10 px or 10 ppt
    bindsym j       resize grow   height 10 px or 10 ppt
    bindsym k       resize shrink height 10 px or 10 ppt
    bindsym l       resize grow   width  10 px or 10 ppt
    bindsym Shift+h resize shrink width  30 px or 30 ppt
    bindsym Shift+j resize grow   height 30 px or 30 ppt
    bindsym Shift+k resize shrink height 30 px or 30 ppt
    bindsym Shift+l resize grow   width  30 px or 30 ppt
    bindsym Ctrl+h  resize shrink width   1 px or  1 ppt
    bindsym Ctrl+j  resize grow   height  1 px or  1 ppt
    bindsym Ctrl+k  resize shrink height  1 px or  1 ppt
    bindsym Ctrl+l  resize grow   width   1 px or  1 ppt

    bindsym m resize set    1   1, move absolute position center
    bindsym 1 resize set  136  76, move absolute position center
    bindsym 2 resize set  273 153, move absolute position center
    bindsym 3 resize set  409 230, move absolute position center
    bindsym 4 resize set  546 307, move absolute position center
    bindsym 5 resize set  683 384, move absolute position center
    bindsym 6 resize set  819 460, move absolute position center
    bindsym 7 resize set  956 537, move absolute position center
    bindsym 8 resize set 1092 614, move absolute position center
    bindsym 9 resize set 1229 691, move absolute position center
    bindsym 0 resize set 1366 768, move absolute position center

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

# Escape Mode: disable all shortcut except $mod+Escape
mode "escape" {
    bindsym $mod+Escape mode "default"
}
bindsym $mod+Escape mode "escape"

# Solarized
set $base03  #002b36
set $base02  #073642
set $base01  #586e75
set $base00  #657b83
set $base10  #839496
set $base11  #93a1a1
set $base12  #eee8d5
set $base13  #fdf6e3
set $yellow  #b58900
set $orange  #cb4b16
set $red     #dc322f
set $magenta #d33682
set $violet  #6c71c4
set $blue    #268bd2
set $cyan    #2aa198
set $green   #859900
set $custom  #1c5766

client.focused          $base02  $blue    $base12 $blue
client.focused_inactive $base02  $base02  $base12 $violet
client.unfocused        $base02  $base02  $base11 $base01
client.urgent           $magenta $magenta $base13 $red

bar {
    status_command i3blocks
    position       bottom
    font           pango:monospace 12
    height         24
    colors {
        separator  $base00
        background $base03
        statusline $base13
        focused_workspace  $base13  $blue    $base13
        active_workspace   $base13  $violet  $base13
        inactive_workspace $base03  $base03  $base11
        urgent_workspace   $magenta $magenta $base13
    }
}

for_window [class="Gsimplecal"] move position 983 490
for_window [class="Terminator"] border pixel 1

set $set_float floating enable, border normal 1

for_window [window_role="pop-up"]               $set_float
for_window [window_role="bubble"]               $set_float
for_window [window_role="task_dialog"]          $set_float
for_window [class="Gitk"]                       $set_float
for_window [class="Git-gui"]                    $set_float
for_window [class="Toplevel"]                   $set_float
for_window [class="FeelUOwn"]                   $set_float, border toggle
for_window [class="Stardict"]                   $set_float
for_window [class="Goldendict"]                 $set_float
for_window [class="Youdao Dict"]                $set_float, border toggle
for_window [class="Pavucontrol"]                $set_float
for_window [title="Wicd ÁΩëÁªúÁÆ°ÁêÜÂô®"]            $set_float, resize set 630 426, move position 720 310
for_window [class="Gnome-alsamixer"]            $set_float
for_window [class="Deepin-music-player"]        $set_float
for_window [title="Â§ö‰∏™È°µÈù¢Êó†ÂìçÂ∫î"]             $set_float
for_window [title="ÁΩëÁªúÊìç‰ΩúÁÆ°ÁêÜÂô®"]             $set_float
for_window [title="TerminatorÈ¶ñÈÄâÈ°π"]           $set_float
for_window [title="chrome-extension:"]          $set_float
for_window [title="‰ªªÂä°ÁÆ°ÁêÜÂô® - Google Chrome"] $set_float

exec --no-startup-id ~/.i3/autostart.sh

exec --no-startup-id ~/.i3/disable-standby-fs.py
exec --no-startup-id ~/.i3/focus-last.py
bindsym Mod1+Tab exec --no-startup-id ~/.i3/focus-last.py --switch

# exec --no-startup-id ~/.i3/app-on-ws-init.py --workspace 1 --command "terminator -l i3"
exec --no-startup-id ~/.i3/app-on-ws-init.py --workspace 2 --command google-chrome-stable
exec --no-startup-id ~/.i3/app-on-ws-init.py --workspace 8 --command WizNote
exec --no-startup-id ~/.i3/app-on-ws-init.py --workspace 9 --command zeal
exec --no-startup-id ~/.i3/app-on-ws-init.py --workspace $ws0 --command telegram-desktop

exec --no-startup-id ~/.fehbg
exec --no-startup-id terminator -l i3

